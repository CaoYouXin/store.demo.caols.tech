<div class="address" (click)="showAddress()">
    <div></div>
    <div class="center fancy-box wrapper" *ngIf="addresses.length === 0">
        添加新地址
    </div>
    <div class="wrapper" *ngIf="addresses.length > 0">
        <span class="name">{{addresses[addressIdx].name}}</span>
        <span class="phone">{{addresses[addressIdx].phone}}</span>
        <p>{{addresses[addressIdx].province + addresses[addressIdx].city +
            addresses[addressIdx].strict + addresses[addressIdx].address}}
            ({{addresses[addressIdx].zipcode}})</p>
    </div>
    <div>></div>
</div>
<div></div>

<ul class="goodslist">
    <li *ngFor="let goods of goodslist">
        <div class="cover" [style.backgroundImage]="goods.bgImage"></div>
        <div class="info">
            <p class="name">{{goods.name}}</p>
            <span class="price">{{goods.price}}</span>
        </div>
        <div class="count">{{goods.count}}</div>
    </li>
</ul>

<ul class="misc">
    <li class="freight"><span>运费:&nbsp;</span><span class="price">{{freight}}</span></li>
    <li class="message" [class.focused]="messageFocused">
        <span>给卖家留言: </span>
        <textarea [(ngModel)]="message" placeholder="需要注意的事项"
            (focus)="messageFocused=true" (blur)="messageFocused=false"
            [class.focused]="messageFocused"></textarea>
    </li>
    <li class="amount"><span>小计:&nbsp;</span><span class="price">{{amount}}</span></li>
</ul>

<div class="discount" (click)="showDiscount()">
    <span>使用优惠: </span>
    <p> <span class="price">{{discount}}</span> > </p>
</div>

<app-footer></app-footer>
<app-ordermenu (btnClick)="createOrder()" [total]="totalAmount"></app-ordermenu>
<app-discount (btnClick)="refreshDiscount($event)" [show]="isDiscountShow | async"></app-discount>
<app-address-editor [show]="isAddressEditorShow | async" [editMode]="isAddressEditMode"
    (saveBtnClick)="refreshAddress($event)"></app-address-editor>
<app-address-list [show]="isAddressListShow | async" (selectBtnClick)="refreshAddress($event)"></app-address-list>
